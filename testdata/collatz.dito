######## Collatz Sequence
# Program defines a function that given a start
# position will create a collatz sequence from start - 1
# this value is returned as an array.

func collatz_sequence(start) {
    # define an array with our start item.
    sequence = [start]
    # use a while style for loop to keep adding to the sequence.
    # checking the item at the last index of the sequence.
    for sequence[-1] > 1 {
        # Get the next value in the sequence.
        newitem = collatz(sequence[-1])
        # Append each new item to array.
        sequence += [newitem]
    }
    return sequence
}

# define a lambda function that can only be a single expression.
# here it uses a if else expression like what can be found in python.
collatz = func(n) -> (
    n           if n <= 1 else
    n / 2       if n % 2 == 0 else
    3 * n + 1)